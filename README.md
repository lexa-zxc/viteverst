# Vite с поддержкой @@include

Проект на Vite с поддержкой директив включения файлов, аналогичных тем, что используются в gulp-file-include.

## Использование

### Запуск проекта
```bash
# Режим разработки
npm run dev

# Сборка проекта без минификации (для отладки)
npm run build

# Сборка проекта с минификацией (для продакшн)
npm run build-min

# Предпросмотр собранного проекта
npm run preview
```

### Директивы включения

В HTML файлах можно использовать следующие директивы:

#### Простое включение
```html
@@include('html/header.html')
```

#### Включение с параметрами
```html
@@include('html/header.html', {"title":"Главная страница"})
```

В файле `header.html` можно использовать параметры через синтаксис `@@имя_параметра`. Например:
```html
<title>@@title</title>
```

### Пути к ресурсам

Вы можете использовать специальные префиксы для указания путей к ресурсам:

```html
<link rel="stylesheet" href="@scss/main.scss">
<script src="@js/app.js"></script>
<img src="@img/logo.png">
<script src="@vendor/jquery/jquery.min.js"></script>
<script type="module" src="@utils/helper.js"></script>
```

Эти префиксы будут автоматически преобразованы в соответствующие пути при сборке.

## Структура проекта

- `app/` - исходные файлы проекта
  - `html/` - HTML компоненты для включения
  - `scss/` - SCSS стили
  - `js/` - JavaScript файлы
  - `img/` - изображения
  - `fonts/` - шрифты
  - `vendor/` - сторонние библиотеки
- `dist/` - собранный проект
- `public/` - статические файлы, которые копируются в сборку без изменений

## Особенности сборки

В проекте реализованы следующие функции:
- Обработка директив @@include в HTML файлах
- Преобразование путей к ресурсам (@scss, @js, @img и др.)
- Автоматическое копирование изображений и vendor-файлов в dist
- В production-сборке:
  - Удаление атрибутов crossorigin и type="module"
  - Добавление атрибута defer для скриптов
  - Замена подключений scss на css/app.css
  - Фиксированные имена файлов (app.js и app.css) без хешей 